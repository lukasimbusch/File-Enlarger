<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>File Enlarger</title>
<style>
    body { font-family: sans-serif; text-align: center; padding-top: 50px; }
    input, button { margin: 10px; padding: 10px; font-size: 1rem; }
</style>
</head>
<body>
    <h2>File Enlarger (Increase Size in Gigabytes)</h2>
    <p>Select a file and specify how many GB to add:</p>
    <p>
        <input type="file" id="fileInput" required>
    </p>
    <p>
        Increase by (GB): 
        <input type="number" id="sizeInput" min="1" value="1" required>
    </p>
    <p>
        <button id="enlargeButton">Enlarge File</button>
    </p>

    <script>
        document.getElementById("enlargeButton").addEventListener("click", async () => {
            const fileInput = document.getElementById("fileInput");
            const sizeInput = document.getElementById("sizeInput");
            const file = fileInput.files[0];
            const extraGB = parseInt(sizeInput.value, 10);

            if (!file || extraGB <= 0) {
                alert("Please select a file and enter a valid size in GB.");
                return;
            }

            // Convert GB to bytes (1 GB = 1,073,741,824 bytes)
            const extraSizeInBytes = extraGB * 1073741824;

            // Read the original file as an ArrayBuffer
            const arrayBuffer = await file.arrayBuffer();
            const originalData = new Uint8Array(arrayBuffer);

            // Create extra random bytes of the desired size (extra GB)
            const extraData = new Uint8Array(extraSizeInBytes);
            crypto.getRandomValues(extraData); // cryptographically strong random bytes

            // Combine the original file data and the new random data
            const newData = new Uint8Array(originalData.length + extraData.length);
            newData.set(originalData, 0);
            newData.set(extraData, originalData.length);

            // Create a Blob with the enlarged file data
            const blob = new Blob([newData], { type: file.type || "application/octet-stream" });

            // Create a downloadable link for the enlarged file
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "enlarged_" + file.name;  // Set the file name for download
            a.click();  // Programmatically trigger the download

            // Clean up the URL object after the download
            URL.revokeObjectURL(url);
        });
    </script>
</body>
</html>
